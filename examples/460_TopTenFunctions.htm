Version:0.9
StartHTML:0000000105
EndHTML:0000122872
StartFragment:0000001053
EndFragment:0000122856
<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>mXScriptasHTML</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="SynEdit HTML exporter" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.pas1-assembler { }
.pas1-character { color: #0066CC; text-decoration: underline; }
.pas1-comment { color: #000080; font-style: italic; }
.pas1-float { color: #FF6347; }
.pas1-hexadecimal { color: #FF00FF; }
.pas1-identifier { }
.pas1-number { color: #FF0000; }
.pas1-preprocessor { font-style: italic; }
.pas1-reservedword { color: #000000; font-weight: bold; }
.pas1-space { }
.pas1-string { color: #008080; }
.pas1-symbol { color: #800080; }
-->
</style>
</head>
<body>
<!--StartFragment--><pre><code><span class="pas1-reservedword">Program</span><span class="pas1-space"> TopTenFunctions</span><span class="pas1-symbol">;
</span><span class="pas1-comment">{from mind to motion}

///////////////////////////////////////////////////////////////////////////
//  #sign:1 PM max: MAXBOX8: 4/1/2014 12:05:12 PM  
//  Purpose: how to call best functions, on progress with experiments 
//  #path&gt;C:\maXbook\maxbox3\mX3999\maxbox3\examples\
//  Lines of Code #locs:265
///////////////////////////////////////////////////////////////////////////
//TODO: Save the QRCode to webserver_file, #locs:265

</span><span class="pas1-reservedword">Const
</span><span class="pas1-space">   UrlGoogleQrCode</span><span class="pas1-symbol">=</span><span class="pas1-string">'http://chart.apis.google.com/chart?chs=%dx%d&amp;cht=qr&amp;chld=%s&amp;chl=%s'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   AFILENAME</span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-string">'mX3QRCode3Googletools.png'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   AFILENAME2</span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-string">'mX3QRCode3Systools.png'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   QDATA</span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-string">'this is maXland mind blowing stuff on a firebox'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   MEDIAPATH </span><span class="pas1-symbol">=</span><span class="pas1-space">  </span><span class="pas1-string">'exercices\'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   KEYPATH </span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-string">'crypt\'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   
</span><span class="pas1-reservedword">Type
</span><span class="pas1-space">  TQrImage_ErrCorrLevel</span><span class="pas1-symbol">=(</span><span class="pas1-identifier">L</span><span class="pas1-symbol">,</span><span class="pas1-identifier">M</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Q</span><span class="pas1-symbol">,</span><span class="pas1-identifier">H</span><span class="pas1-symbol">);


</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> LetSystools2DBarcode</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> </span><span class="pas1-comment">{TStCustom2DBarcode}</span><span class="pas1-identifier">TStPDF417Barcode</span><span class="pas1-symbol">.</span><span class="pas1-identifier">create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">   ECCLevel</span><span class="pas1-symbol">:=</span><span class="pas1-space"> eclevel6</span><span class="pas1-symbol">;
</span><span class="pas1-space">   Code</span><span class="pas1-symbol">:=</span><span class="pas1-space"> QDATA</span><span class="pas1-symbol">;
</span><span class="pas1-space">   Caption</span><span class="pas1-symbol">:=</span><span class="pas1-space"> QDATA</span><span class="pas1-symbol">;
</span><span class="pas1-space">   CaptionLayout</span><span class="pas1-symbol">;
</span><span class="pas1-space">   </span><span class="pas1-comment">//RelativeBarHeight:= true;
</span><span class="pas1-space">   </span><span class="pas1-comment">//BarHeight:= 500;
</span><span class="pas1-space">   SaveToFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ExePath</span><span class="pas1-symbol">+</span><span class="pas1-identifier">AFILENAME2</span><span class="pas1-symbol">);
</span><span class="pas1-space">   OpenDoc</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ExePath</span><span class="pas1-symbol">+</span><span class="pas1-identifier">AFILENAME2</span><span class="pas1-symbol">);
</span><span class="pas1-space">   free</span><span class="pas1-symbol">;
</span><span class="pas1-space"> </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space"> </span><span class="pas1-comment">(* with {TStCustom2DBarcode} TStMaxiCodeBarcode.create(self) do begin
   ECCLevel:= 3;
   Code:= QDATA; Caption:= QDATA;
   CaptionLayout;
   //BarHeight:= 400;
   SaveToFile(ExePath+AFILENAME);
   OpenDoc(ExePath+AFILENAME);
   free;
 end;*)
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">   

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> GetQRCodeDemo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space"> </span><span class="pas1-reservedword">if</span><span class="pas1-space"> IsInternet </span><span class="pas1-reservedword">then</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin</span><span class="pas1-space">   </span><span class="pas1-comment">//1
</span><span class="pas1-space">    GetQrCode3</span><span class="pas1-symbol">(</span><span class="pas1-number">150</span><span class="pas1-symbol">,</span><span class="pas1-number">150</span><span class="pas1-symbol">,</span><span class="pas1-string">'Q'</span><span class="pas1-symbol">,</span><span class="pas1-identifier">QDATA</span><span class="pas1-symbol">,</span><span class="pas1-space"> ExePath</span><span class="pas1-symbol">+</span><span class="pas1-identifier">AFILENAME</span><span class="pas1-symbol">);
</span><span class="pas1-space">    OpenDoc</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ExePath</span><span class="pas1-symbol">+</span><span class="pas1-identifier">AFILENAME</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-space"> </span><span class="pas1-reservedword">else
</span><span class="pas1-space">    LetSystools2DBarcode</span><span class="pas1-symbol">;</span><span class="pas1-space"> 
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">    
</span><span class="pas1-comment">//TODO:#1 Returns the QR Code direct of the last modification of the given File

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> ChangeFileDemo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">   Stringtofile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'\docs\contain2xml.txt'</span><span class="pas1-symbol">,
</span><span class="pas1-space">   ReplaceString</span><span class="pas1-symbol">(</span><span class="pas1-identifier">fileToString</span><span class="pas1-symbol">(</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'\docs\'</span><span class="pas1-symbol">+</span><span class="pas1-string">'maxbox3_9.xml'</span><span class="pas1-symbol">),
</span><span class="pas1-space">                    </span><span class="pas1-string">'&quot;/&gt; '</span><span class="pas1-symbol">,</span><span class="pas1-string">'&quot;/&gt;'</span><span class="pas1-symbol">+</span><span class="pas1-identifier">CRLF</span><span class="pas1-symbol">),</span><span class="pas1-identifier">true</span><span class="pas1-symbol">);</span><span class="pas1-space">   
   OpenDoc</span><span class="pas1-symbol">(</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'\docs\contain2xml.txt'</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">   

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> maxcalc_Demo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'this is %.6f'</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'ln(2)+fact(388)+2!'</span><span class="pas1-symbol">)]);</span><span class="pas1-space"> 
  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'this is %.6f'</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'(4!)^(3!)'</span><span class="pas1-symbol">)]);</span><span class="pas1-space"> 
  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'this is %.6f'</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'4!+4!'</span><span class="pas1-symbol">)]);</span><span class="pas1-space"> 
  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'this is %.6f'</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'log(22)'</span><span class="pas1-symbol">)]);</span><span class="pas1-space"> 
  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'this is logN %.6f'</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'2%256'</span><span class="pas1-symbol">)]);
</span><span class="pas1-space">  writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'ln(e): '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">floattostr</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'ln(e)'</span><span class="pas1-symbol">)))
</span><span class="pas1-space">  </span><span class="pas1-reservedword">maXcalcF</span><span class="pas1-symbol">(</span><span class="pas1-string">'e+10^6'</span><span class="pas1-symbol">);
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'addition theorem %.18f '</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'sin(2.5/2)'</span><span class="pas1-symbol">)])
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'addition theorem %.18f '</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'sqrt(1/2*(1-cos(2.5)))'</span><span class="pas1-symbol">)])
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'addition theorem2 %22.18f '</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'cos(2.5/2)'</span><span class="pas1-symbol">)])
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'addition theorem2 %22.18f '</span><span class="pas1-symbol">,[</span><span class="pas1-reservedword">maXcalc</span><span class="pas1-symbol">(</span><span class="pas1-string">'sqrt(1/2*(1+cos(2.5)))'</span><span class="pas1-symbol">)])
</span><span class="pas1-space">  </span><span class="pas1-reservedword">maXcalcF</span><span class="pas1-symbol">(</span><span class="pas1-string">'2%256+2^10'</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space"> 

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> CompressDemo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-comment">//Compress a folder and decompress it in /Decompress2
</span><span class="pas1-space">  Compress</span><span class="pas1-symbol">(</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'examples\earthplay2'</span><span class="pas1-symbol">,</span><span class="pas1-space"> exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'examples\mXziptest2.zip'</span><span class="pas1-symbol">);
</span><span class="pas1-space">  DeCompress</span><span class="pas1-symbol">(</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'examples\Decompress2'</span><span class="pas1-symbol">,</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'examples\mXziptest2.zip'</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">  

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> TimeSetDemo</span><span class="pas1-symbol">;
</span><span class="pas1-comment">//run the procedure in Admin mode to set the time! 
</span><span class="pas1-reservedword">var</span><span class="pas1-space">  mySTime</span><span class="pas1-symbol">:</span><span class="pas1-space"> TIdSNTP</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin</span><span class="pas1-space"> 
  mySTime</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TIdSNTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">try
</span><span class="pas1-space">    mySTime</span><span class="pas1-symbol">.</span><span class="pas1-identifier">host</span><span class="pas1-symbol">:=</span><span class="pas1-string">'0.debian.pool.ntp.org'
</span><span class="pas1-space">    writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'the internettime: '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">datetimetoStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">mystime</span><span class="pas1-symbol">.</span><span class="pas1-identifier">datetime</span><span class="pas1-symbol">));
</span><span class="pas1-space">    </span><span class="pas1-reservedword">if</span><span class="pas1-space"> mySTime</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Synctime </span><span class="pas1-reservedword">then
</span><span class="pas1-space">      writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'Operating System sync now!'</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">finally
</span><span class="pas1-space">    Speak</span><span class="pas1-symbol">(</span><span class="pas1-string">'Your system time is now sync with the internet time '
</span><span class="pas1-space">       </span><span class="pas1-symbol">+</span><span class="pas1-identifier">TimeToStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">mystime</span><span class="pas1-symbol">.</span><span class="pas1-identifier">datetime</span><span class="pas1-symbol">))
</span><span class="pas1-space">    mySTime</span><span class="pas1-symbol">.</span><span class="pas1-identifier">free</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end
end</span><span class="pas1-symbol">;</span><span class="pas1-space">  

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> OpenFileDemo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  OpenFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ExePath</span><span class="pas1-symbol">+</span><span class="pas1-string">'\examples\androidlcl\pascal_gui.jpg'</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space"> 

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> PlayMediaDemo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">var</span><span class="pas1-space"> wmp</span><span class="pas1-symbol">:</span><span class="pas1-space"> Variant</span><span class="pas1-symbol">;</span><span class="pas1-space"> 
 </span><span class="pas1-comment">//Maybe you'll be more comfortable with automation.
</span><span class="pas1-space"> </span><span class="pas1-comment">//It provides most of the functionality as the interfaces provide.
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">   wmp</span><span class="pas1-symbol">:=</span><span class="pas1-space"> CreateOleObject</span><span class="pas1-symbol">(</span><span class="pas1-string">'WMPlayer.OCX'</span><span class="pas1-symbol">);
</span><span class="pas1-space">   </span><span class="pas1-comment">//wmp.OpenPlayer(Exepath+'examples\maxbox.wav');
</span><span class="pas1-space">   </span><span class="pas1-reservedword">if</span><span class="pas1-space"> ISInternet </span><span class="pas1-reservedword">then</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">     wmp</span><span class="pas1-symbol">.</span><span class="pas1-identifier">URL</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'http://www.softwareschule.ch/download/airmaxloop3.mp3'</span><span class="pas1-symbol">;
</span><span class="pas1-space">     wmp</span><span class="pas1-symbol">.</span><span class="pas1-identifier">OpenPlayer</span><span class="pas1-symbol">(</span><span class="pas1-identifier">wmp</span><span class="pas1-symbol">.</span><span class="pas1-identifier">URL</span><span class="pas1-symbol">);
</span><span class="pas1-space">   </span><span class="pas1-reservedword">end</span><span class="pas1-space"> </span><span class="pas1-reservedword">else
</span><span class="pas1-space">     wmp</span><span class="pas1-symbol">.</span><span class="pas1-identifier">OpenPlayer</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'examples\maxbox.wav'</span><span class="pas1-symbol">);
</span><span class="pas1-space">   </span><span class="pas1-comment">//wmp.controls.play;
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space"> 

</span><span class="pas1-comment">//To Refactor:
</span><span class="pas1-reservedword">function</span><span class="pas1-space"> IsNetworkConnected3</span><span class="pas1-symbol">:</span><span class="pas1-space"> Boolean</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  result</span><span class="pas1-symbol">:=</span><span class="pas1-space"> GetSystemMetrics</span><span class="pas1-symbol">(</span><span class="pas1-identifier">SM_NETWORK</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">and</span><span class="pas1-space"> </span><span class="pas1-hexadecimal">$01</span><span class="pas1-space"> </span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-hexadecimal">$01
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-reservedword">function</span><span class="pas1-space"> WGetDemo</span><span class="pas1-symbol">:</span><span class="pas1-space"> boolean</span><span class="pas1-symbol">;
</span><span class="pas1-comment">//Function wGet2(aURL, afile: string): boolean;' //without file open
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'WGetDemo:  '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">DateTimeToInternetStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">now</span><span class="pas1-symbol">,</span><span class="pas1-space"> true</span><span class="pas1-symbol">))
</span><span class="pas1-space">  result</span><span class="pas1-symbol">:=</span><span class="pas1-space"> false</span><span class="pas1-symbol">;
</span><span class="pas1-space">  wGet</span><span class="pas1-symbol">(</span><span class="pas1-string">'http://www.softwareschule.ch/download/maxbox_starter4.pdf'</span><span class="pas1-symbol">,</span><span class="pas1-string">'mytestpdf.pdf'</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-comment">//[RegEx VX4]
</span><span class="pas1-space">  result</span><span class="pas1-symbol">:=</span><span class="pas1-space"> true</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">    

</span><span class="pas1-comment">//set the maildef.ini file first!
</span><span class="pas1-reservedword">function</span><span class="pas1-space"> SendEmailDemo</span><span class="pas1-symbol">:</span><span class="pas1-space"> boolean</span><span class="pas1-symbol">;</span><span class="pas1-space"> 
</span><span class="pas1-reservedword">begin
</span><span class="pas1-comment">//procedure SendEmail(mFrom,  mTo,  mSubject,  mBody,  mAttachment: variant);
</span><span class="pas1-space"> result</span><span class="pas1-symbol">:=</span><span class="pas1-space"> false</span><span class="pas1-symbol">;
</span><span class="pas1-space"> SendEmail</span><span class="pas1-symbol">(</span><span class="pas1-string">'max@kleiner.ch'</span><span class="pas1-symbol">,</span><span class="pas1-string">'max@kleiner.com'</span><span class="pas1-symbol">,</span><span class="pas1-string">'this is test399.94'</span><span class="pas1-symbol">,</span><span class="pas1-string">'the OpenSSL fox'</span><span class="pas1-symbol">,</span><span class="pas1-string">''</span><span class="pas1-symbol">);
</span><span class="pas1-space"> result</span><span class="pas1-symbol">:=</span><span class="pas1-space"> true</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;


</span><span class="pas1-reservedword">var</span><span class="pas1-space">  selectFile</span><span class="pas1-symbol">,</span><span class="pas1-identifier">cryptlog</span><span class="pas1-symbol">,</span><span class="pas1-identifier">AESpassw</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> EncryptMediaAES</span><span class="pas1-symbol">(</span><span class="pas1-identifier">sender</span><span class="pas1-symbol">:</span><span class="pas1-space"> TObject</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  </span><span class="pas1-comment">//if AESpassw &lt;&gt; '' then begin
</span><span class="pas1-space">    AESpassw</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'maXbox'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">if</span><span class="pas1-space"> PromptForFileName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">,</span><span class="pas1-string">'Files(*.*)|*.*'</span><span class="pas1-symbol">,</span><span class="pas1-comment">//others
</span><span class="pas1-space">                      </span><span class="pas1-string">''</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-string">'Select your file to crypt'</span><span class="pas1-symbol">,</span><span class="pas1-space"> MEDIAPATH</span><span class="pas1-symbol">,</span><span class="pas1-space"> False</span><span class="pas1-symbol">)
</span><span class="pas1-space">    </span><span class="pas1-reservedword">then</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">     </span><span class="pas1-comment">//Display this full file/path value
</span><span class="pas1-space">      writeln</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ExtractFileName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">)+</span><span class="pas1-string">' encrypt...'</span><span class="pas1-symbol">);
</span><span class="pas1-space">      Application</span><span class="pas1-symbol">.</span><span class="pas1-identifier">ProcessMessages</span><span class="pas1-symbol">;
</span><span class="pas1-space">      Screen</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Cursor</span><span class="pas1-symbol">:=</span><span class="pas1-space"> crHourglass</span><span class="pas1-symbol">;
</span><span class="pas1-space">      </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TStopwatch</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">        Start</span><span class="pas1-symbol">;
</span><span class="pas1-space">        AESSymetricExecute</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">,</span><span class="pas1-space"> selectFile</span><span class="pas1-symbol">+</span><span class="pas1-string">'_encrypt'</span><span class="pas1-symbol">,</span><span class="pas1-identifier">AESpassw</span><span class="pas1-symbol">);
</span><span class="pas1-space">        writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'File Encrypted!'</span><span class="pas1-symbol">);
</span><span class="pas1-space">        Screen</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Cursor</span><span class="pas1-symbol">:=</span><span class="pas1-space"> crDefault</span><span class="pas1-symbol">;
</span><span class="pas1-space">        Stop</span><span class="pas1-symbol">;
</span><span class="pas1-space">        writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'Time consuming: '</span><span class="pas1-space"> </span><span class="pas1-symbol">+</span><span class="pas1-identifier">GetValueStr </span><span class="pas1-symbol">+</span><span class="pas1-string">' of: '</span><span class="pas1-symbol">+
</span><span class="pas1-space">              inttoStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">getFileSize</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">))+</span><span class="pas1-string">' File Size'</span><span class="pas1-symbol">);
</span><span class="pas1-space">        Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">      </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">      writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'Crypted file: '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">ExtractFileName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">)+</span><span class="pas1-string">'_encrypt'</span><span class="pas1-symbol">);
</span><span class="pas1-space">      </span><span class="pas1-comment">//WriteLog(cryptLog, clstbox.items.text)
</span><span class="pas1-space">    </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-comment">//end else Showmessage('Set your password first!');
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> DecryptMediaAES</span><span class="pas1-symbol">(</span><span class="pas1-identifier">sender</span><span class="pas1-symbol">:</span><span class="pas1-space"> TObject</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">var</span><span class="pas1-space"> clearout</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  </span><span class="pas1-comment">//if AESpassw &lt;&gt; '' then begin
</span><span class="pas1-space">    AESpassw</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'maXbox'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">if</span><span class="pas1-space"> PromptForFileName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">,</span><span class="pas1-string">'Files(*_encrypt)|*_encrypt'</span><span class="pas1-symbol">,</span><span class="pas1-comment">//others
</span><span class="pas1-space">                      </span><span class="pas1-string">''</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-string">'Select your file to decrypt'</span><span class="pas1-symbol">,</span><span class="pas1-space"> MEDIAPATH</span><span class="pas1-symbol">,</span><span class="pas1-space"> False</span><span class="pas1-symbol">)
</span><span class="pas1-space">    </span><span class="pas1-reservedword">then</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">      </span><span class="pas1-comment">// Display this full file/path value
</span><span class="pas1-space">      writeln</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ExtractFileName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">)+</span><span class="pas1-string">' decrypt...'</span><span class="pas1-symbol">);
</span><span class="pas1-space">      writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'File to Decrypt: '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">ExtractFileName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">));
</span><span class="pas1-space">      Application</span><span class="pas1-symbol">.</span><span class="pas1-identifier">ProcessMessages</span><span class="pas1-symbol">;
</span><span class="pas1-space">      Screen</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Cursor</span><span class="pas1-symbol">:=</span><span class="pas1-space"> crHourglass</span><span class="pas1-symbol">;
</span><span class="pas1-space">      </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TStopwatch</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">        Start</span><span class="pas1-symbol">;
</span><span class="pas1-space">        AESDecryptFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">+</span><span class="pas1-string">'_decrypt'</span><span class="pas1-symbol">,</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">,</span><span class="pas1-identifier">AESpassw</span><span class="pas1-symbol">);
</span><span class="pas1-space">        clearout</span><span class="pas1-symbol">:=</span><span class="pas1-space"> selectFile</span><span class="pas1-symbol">+</span><span class="pas1-string">'_decrypt'</span><span class="pas1-symbol">;
</span><span class="pas1-space">        Delete</span><span class="pas1-symbol">(</span><span class="pas1-identifier">clearout</span><span class="pas1-symbol">,</span><span class="pas1-space"> length</span><span class="pas1-symbol">(</span><span class="pas1-identifier">clearout</span><span class="pas1-symbol">)-</span><span class="pas1-number">15</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">8</span><span class="pas1-symbol">);</span><span class="pas1-space"> </span><span class="pas1-comment">//-7!
</span><span class="pas1-space">        RenameFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">selectFile</span><span class="pas1-symbol">+</span><span class="pas1-string">'_decrypt'</span><span class="pas1-symbol">,</span><span class="pas1-space"> clearout</span><span class="pas1-symbol">);
</span><span class="pas1-space">        Screen</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Cursor</span><span class="pas1-symbol">:=</span><span class="pas1-space"> crDefault</span><span class="pas1-symbol">;
</span><span class="pas1-space">        Stop</span><span class="pas1-symbol">;
</span><span class="pas1-space">        writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'Time consuming: '</span><span class="pas1-space"> </span><span class="pas1-symbol">+</span><span class="pas1-identifier">GetValueStr </span><span class="pas1-symbol">+</span><span class="pas1-string">' of: '</span><span class="pas1-symbol">+
</span><span class="pas1-space">              intToStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">getFileSize</span><span class="pas1-symbol">(</span><span class="pas1-identifier">clearout</span><span class="pas1-symbol">))+</span><span class="pas1-string">' File Size'</span><span class="pas1-symbol">);
</span><span class="pas1-space">        Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">      </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">      writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'File Decrypted!'</span><span class="pas1-symbol">);
</span><span class="pas1-space">      </span><span class="pas1-comment">//WriteLog(cryptLog, clstbox.items.text)
</span><span class="pas1-space">    </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-comment">//end else Showmessage('Set your password first!');
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> GetAllFilesofTodayDemo</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">var</span><span class="pas1-space"> ml</span><span class="pas1-symbol">:</span><span class="pas1-space"> TStringlist</span><span class="pas1-symbol">;
</span><span class="pas1-space">    i</span><span class="pas1-symbol">:</span><span class="pas1-space"> integer</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  ml</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TStringlist</span><span class="pas1-symbol">.</span><span class="pas1-identifier">create</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">try
</span><span class="pas1-space">    ml</span><span class="pas1-symbol">:=</span><span class="pas1-space"> getTodayFiles</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Exepath</span><span class="pas1-symbol">,</span><span class="pas1-string">'*.*'</span><span class="pas1-symbol">);</span><span class="pas1-space"> 
    </span><span class="pas1-reservedword">for</span><span class="pas1-space"> i</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">1</span><span class="pas1-space"> </span><span class="pas1-reservedword">to</span><span class="pas1-space"> ml</span><span class="pas1-symbol">.</span><span class="pas1-identifier">count</span><span class="pas1-symbol">-</span><span class="pas1-number">1</span><span class="pas1-space"> </span><span class="pas1-reservedword">do</span><span class="pas1-space"> 
           writeln</span><span class="pas1-symbol">(</span><span class="pas1-identifier">ml</span><span class="pas1-symbol">.</span><span class="pas1-identifier">strings</span><span class="pas1-symbol">[</span><span class="pas1-identifier">i</span><span class="pas1-symbol">]);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">finally
</span><span class="pas1-space">    ml</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">           
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">  


</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> CalcPrecisionDemoTest</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'light speed of 2000 meters %.14f'</span><span class="pas1-symbol">,[</span><span class="pas1-number">2000</span><span class="pas1-space"> </span><span class="pas1-symbol">/</span><span class="pas1-identifier">MetersPerLightSecond</span><span class="pas1-symbol">]);
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'light speed test back %.14f'</span><span class="pas1-symbol">,
</span><span class="pas1-space">                  </span><span class="pas1-symbol">[(</span><span class="pas1-number">2000</span><span class="pas1-space"> </span><span class="pas1-symbol">/</span><span class="pas1-identifier">MetersPerLightSecond</span><span class="pas1-symbol">)*-(</span><span class="pas1-number">1</span><span class="pas1-symbol">-</span><span class="pas1-identifier">MetersPerLightSecond</span><span class="pas1-symbol">/</span><span class="pas1-number">2000</span><span class="pas1-symbol">)]);
</span><span class="pas1-space">  printF</span><span class="pas1-symbol">(</span><span class="pas1-string">'light speed test back %.14f'</span><span class="pas1-symbol">,
</span><span class="pas1-space">             </span><span class="pas1-symbol">[(</span><span class="pas1-number">2000</span><span class="pas1-space"> </span><span class="pas1-symbol">/</span><span class="pas1-identifier">MetersPerLightSecond</span><span class="pas1-symbol">)+
</span><span class="pas1-space">              </span><span class="pas1-symbol">(</span><span class="pas1-number">2000</span><span class="pas1-space"> </span><span class="pas1-symbol">/</span><span class="pas1-identifier">MetersPerLightSecond</span><span class="pas1-symbol">)*-(</span><span class="pas1-number">1</span><span class="pas1-symbol">-</span><span class="pas1-identifier">MetersPerLightSecond</span><span class="pas1-symbol">/</span><span class="pas1-number">2000</span><span class="pas1-symbol">)]);
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space"> 

</span><span class="pas1-reservedword">begin</span><span class="pas1-space">  </span><span class="pas1-comment">//main 
</span><span class="pas1-space">  Writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'EXE Date Stamp: '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">dateTimeTostr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">FileTimeGMT</span><span class="pas1-symbol">(</span><span class="pas1-identifier">exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'maxbox3.exe'</span><span class="pas1-symbol">)));
</span><span class="pas1-space">  </span><span class="pas1-comment">//GetQrCodeTest(150,150,'Q', 'this is maXland on the maXbox');
</span><span class="pas1-space">  </span><span class="pas1-comment">//call of the Lib Best_of_Box
</span><span class="pas1-space">  GetQRCodeDemo        </span><span class="pas1-comment">//01

</span><span class="pas1-space">  ChangeFileDemo</span><span class="pas1-symbol">;</span><span class="pas1-space">    </span><span class="pas1-comment">//011
</span><span class="pas1-space">  </span><span class="pas1-reservedword">maxCalcF</span><span class="pas1-symbol">(</span><span class="pas1-string">'SQRT(PI)'</span><span class="pas1-symbol">);
</span><span class="pas1-space">  maxcalc_Demo</span><span class="pas1-symbol">;</span><span class="pas1-space">        </span><span class="pas1-comment">//02
</span><span class="pas1-space">  Writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'thread count: '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">inttoStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">NumProcessThreads</span><span class="pas1-symbol">));</span><span class="pas1-space"> 
  </span><span class="pas1-comment">//CompressDemo;     //03
</span><span class="pas1-space">  Writeln</span><span class="pas1-symbol">(</span><span class="pas1-string">'thread count: '</span><span class="pas1-symbol">+</span><span class="pas1-identifier">inttoStr</span><span class="pas1-symbol">(</span><span class="pas1-identifier">NumProcessThreads</span><span class="pas1-symbol">));
</span><span class="pas1-space"> 
   </span><span class="pas1-comment">//TimeSetDemo;      //04
</span><span class="pas1-space">   OpenFileDemo</span><span class="pas1-symbol">;</span><span class="pas1-space">       </span><span class="pas1-comment">//05
</span><span class="pas1-space">   </span><span class="pas1-comment">//PlayMediaDemo;    //06
</span><span class="pas1-space">  
  </span><span class="pas1-comment">{if WGetDemo then    //07
     writeln('download success - will open file');}
</span><span class="pas1-space">  
  </span><span class="pas1-comment">{if SendEmailDemo then    //08
     writeln('email send success - should open mailbox'); }
</span><span class="pas1-space">  
  </span><span class="pas1-comment">{EncryptMediaAES(self);   //09
  DecryptMediaAES(self); }</span><span class="pas1-space">                         
  
  GetAllFilesofTodayDemo</span><span class="pas1-symbol">;</span><span class="pas1-space">   </span><span class="pas1-comment">//10
</span><span class="pas1-space">  CalcPrecisionDemoTest</span><span class="pas1-symbol">;</span><span class="pas1-space">    </span><span class="pas1-comment">//11
</span><span class="pas1-reservedword">End</span><span class="pas1-symbol">.</span><span class="pas1-space">  

</span><span class="pas1-reservedword">Doc</span><span class="pas1-symbol">:
</span><span class="pas1-identifier">http</span><span class="pas1-symbol">:</span><span class="pas1-comment">//theroadtodelphi.wordpress.com/2010/12/06/generating-qr-codes-with-delphi/

</span><span class="pas1-reservedword">Using</span><span class="pas1-space"> the Google Chart Tools </span><span class="pas1-symbol">/</span><span class="pas1-space"> Image Charts </span><span class="pas1-symbol">(</span><span class="pas1-identifier">aka Chart API</span><span class="pas1-symbol">)</span><span class="pas1-space"> you can easily generate QR codes</span><span class="pas1-symbol">,</span><span class="pas1-space"> this kind </span><span class="pas1-reservedword">of</span><span class="pas1-space"> images are a special </span><span class="pas1-reservedword">type</span><span class="pas1-space"> </span><span class="pas1-reservedword">of</span><span class="pas1-space"> two</span><span class="pas1-symbol">-</span><span class="pas1-identifier">dimensional barcodes</span><span class="pas1-symbol">.</span><span class="pas1-space"> They are also known </span><span class="pas1-reservedword">as</span><span class="pas1-space"> hardlinks </span><span class="pas1-reservedword">or</span><span class="pas1-space"> physical world hyperlinks</span><span class="pas1-symbol">.

</span><span class="pas1-identifier">The QR Codes store up </span><span class="pas1-reservedword">to</span><span class="pas1-space"> </span><span class="pas1-number">4</span><span class="pas1-symbol">,</span><span class="pas1-number">296</span><span class="pas1-space"> alphanumeric characters </span><span class="pas1-reservedword">of</span><span class="pas1-space"> arbitrary text</span><span class="pas1-symbol">.</span><span class="pas1-space"> QR codes can be read by an optical device </span><span class="pas1-reservedword">with</span><span class="pas1-space"> the appropriate software</span><span class="pas1-symbol">.</span><span class="pas1-space"> Such devices range from dedicated QR code readers </span><span class="pas1-reservedword">to</span><span class="pas1-space"> mobile phones</span><span class="pas1-symbol">.

</span><span class="pas1-reservedword">Using</span><span class="pas1-space"> Delphi there are several ways you can generate QR codes </span><span class="pas1-symbol">-</span><span class="pas1-space"> </span><span class="pas1-reservedword">to</span><span class="pas1-space"> encode any text </span><span class="pas1-symbol">(</span><span class="pas1-identifier">URL</span><span class="pas1-symbol">,</span><span class="pas1-space"> phone number</span><span class="pas1-symbol">,</span><span class="pas1-space"> simple </span><span class="pas1-reservedword">message</span><span class="pas1-symbol">).</span><span class="pas1-space"> QR Codes store up </span><span class="pas1-reservedword">to</span><span class="pas1-space"> </span><span class="pas1-number">4</span><span class="pas1-symbol">,</span><span class="pas1-number">296</span><span class="pas1-space"> alphanumeric characters </span><span class="pas1-reservedword">of</span><span class="pas1-space"> arbitrary text</span><span class="pas1-symbol">.
</span><span class="pas1-identifier">The </span><span class="pas1-number">2</span><span class="pas1-identifier">D Barcode VCL components </span><span class="pas1-reservedword">is</span><span class="pas1-space"> a </span><span class="pas1-reservedword">set</span><span class="pas1-space"> </span><span class="pas1-reservedword">of</span><span class="pas1-space"> components designed </span><span class="pas1-reservedword">for</span><span class="pas1-space"> generating </span><span class="pas1-reservedword">and</span><span class="pas1-space"> printing barcode symbols </span><span class="pas1-reservedword">in</span><span class="pas1-space"> your Delphi </span><span class="pas1-reservedword">or</span><span class="pas1-space"> C</span><span class="pas1-symbol">++</span><span class="pas1-space"> Builder applications</span><span class="pas1-symbol">.</span><span class="pas1-space"> Use the components </span><span class="pas1-reservedword">set</span><span class="pas1-space"> like any other VCL components</span><span class="pas1-symbol">.
</span><span class="pas1-identifier">J4L Components includes the QR</span><span class="pas1-symbol">-</span><span class="pas1-identifier">code </span><span class="pas1-reservedword">implementation</span><span class="pas1-space"> featuring</span><span class="pas1-symbol">:</span><span class="pas1-space"> auto</span><span class="pas1-symbol">,</span><span class="pas1-space"> byte</span><span class="pas1-symbol">,</span><span class="pas1-space"> alpha</span><span class="pas1-symbol">,</span><span class="pas1-space"> numeric </span><span class="pas1-reservedword">and</span><span class="pas1-space"> kanji encoding</span><span class="pas1-symbol">.

</span><span class="pas1-identifier">The Google Chart Tools </span><span class="pas1-symbol">(</span><span class="pas1-identifier">Chart API</span><span class="pas1-symbol">)</span><span class="pas1-space"> also let you generate QR</span><span class="pas1-symbol">-</span><span class="pas1-identifier">code images </span><span class="pas1-reservedword">using</span><span class="pas1-space"> an HTTP POST </span><span class="pas1-reservedword">or</span><span class="pas1-space"> 
All </span><span class="pas1-reservedword">do</span><span class="pas1-space"> you need </span><span class="pas1-reservedword">to</span><span class="pas1-space"> generate a QrCode </span><span class="pas1-reservedword">is</span><span class="pas1-space"> make a get request </span><span class="pas1-reservedword">to</span><span class="pas1-space"> this URI

http</span><span class="pas1-symbol">:</span><span class="pas1-comment">//chart.apis.google.com/chart?chs=200x200&amp;cht=qr&amp;chld=M&amp;chl=Go+Delphi+Go


</span><span class="pas1-identifier">QR </span><span class="pas1-symbol">(</span><span class="pas1-identifier">Quick Response</span><span class="pas1-symbol">)</span><span class="pas1-space"> codes are starting </span><span class="pas1-reservedword">to</span><span class="pas1-space"> pick up steam among the growing smartphone</span><span class="pas1-symbol">-</span><span class="pas1-identifier">browsing crowd </span><span class="pas1-symbol"></span><span class="pas1-space"> a statistic that has marketers brimming </span><span class="pas1-reservedword">with</span><span class="pas1-space"> creative ideas </span><span class="pas1-reservedword">and</span><span class="pas1-space"> promotions</span><span class="pas1-symbol">.</span><span class="pas1-space">  Still</span><span class="pas1-symbol">,</span><span class="pas1-space"> no one wants </span><span class="pas1-reservedword">to</span><span class="pas1-space"> open their device </span><span class="pas1-reservedword">to</span><span class="pas1-space"> a glut </span><span class="pas1-reservedword">of</span><span class="pas1-space"> text messages </span><span class="pas1-reservedword">and</span><span class="pas1-space"> alerts from codes they</span><span class="pas1-symbol"></span><span class="pas1-identifier">ve scanned</span><span class="pas1-symbol">.

</span><span class="pas1-identifier">Fortunately</span><span class="pas1-symbol">,</span><span class="pas1-space"> these companies have found innovative </span><span class="pas1-reservedword">and</span><span class="pas1-space"> unique ways </span><span class="pas1-reservedword">to</span><span class="pas1-space"> </span><span class="pas1-reservedword">not</span><span class="pas1-space"> only get you </span><span class="pas1-reservedword">to</span><span class="pas1-space"> scan their code</span><span class="pas1-symbol">,</span><span class="pas1-space"> but boost their brand awareness </span><span class="pas1-reservedword">in</span><span class="pas1-space"> the process</span><span class="pas1-symbol">.</span><span class="pas1-space">  Here are a few </span><span class="pas1-reservedword">of</span><span class="pas1-space"> the most memorable ones </span><span class="pas1-symbol"></span><span class="pas1-space"> </span><span class="pas1-reservedword">and</span><span class="pas1-space"> a few examples </span><span class="pas1-reservedword">to</span><span class="pas1-space"> get your mind stirring</span><span class="pas1-symbol">.
</span><span class="pas1-identifier">Who</span><span class="pas1-symbol"></span><span class="pas1-identifier">s </span><span class="pas1-reservedword">Using</span><span class="pas1-space"> QR Codes</span><span class="pas1-symbol">?

</span><span class="pas1-identifier">Nearly half </span><span class="pas1-reservedword">of</span><span class="pas1-space"> all smartphone users have used their phones </span><span class="pas1-reservedword">while</span><span class="pas1-space"> shopping </span><span class="pas1-reservedword">in</span><span class="pas1-space"> brick</span><span class="pas1-symbol">-</span><span class="pas1-reservedword">and</span><span class="pas1-symbol">-</span><span class="pas1-identifier">mortar stores </span><span class="pas1-symbol"></span><span class="pas1-space"> </span><span class="pas1-number">40</span><span class="pas1-symbol">%</span><span class="pas1-space"> </span><span class="pas1-reservedword">of</span><span class="pas1-space"> them </span><span class="pas1-reservedword">to</span><span class="pas1-space"> compare the competition</span><span class="pas1-symbol"></span><span class="pas1-identifier">s prices</span><span class="pas1-symbol">.</span><span class="pas1-space">  Statistics </span><span class="pas1-reservedword">for</span><span class="pas1-space"> who</span><span class="pas1-symbol"></span><span class="pas1-identifier">s scanning QR codes </span><span class="pas1-reservedword">and</span><span class="pas1-space"> </span><span class="pas1-reservedword">with</span><span class="pas1-space"> what device appear </span><span class="pas1-reservedword">to</span><span class="pas1-space"> be mixed</span><span class="pas1-symbol">,</span><span class="pas1-space"> although most data places iPhone users at the top</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-reservedword">with</span><span class="pas1-space"> the user age range being </span><span class="pas1-number">25</span><span class="pas1-symbol">-</span><span class="pas1-float">34.</span><span class="pas1-space">  Japan </span><span class="pas1-reservedword">and</span><span class="pas1-space"> the U</span><span class="pas1-symbol">.</span><span class="pas1-identifier">S</span><span class="pas1-symbol">.</span><span class="pas1-space"> are currently leaps </span><span class="pas1-reservedword">and</span><span class="pas1-space"> bounds ahead </span><span class="pas1-reservedword">of</span><span class="pas1-space"> other countries </span><span class="pas1-reservedword">in</span><span class="pas1-space"> QR code scans </span><span class="pas1-symbol">(</span><span class="pas1-identifier">around </span><span class="pas1-number">60</span><span class="pas1-symbol">%</span><span class="pas1-space"> approximately</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-symbol"></span><span class="pas1-space"> </span><span class="pas1-reservedword">with</span><span class="pas1-space"> Canada </span><span class="pas1-reservedword">and</span><span class="pas1-space"> the U</span><span class="pas1-symbol">.</span><span class="pas1-identifier">K</span><span class="pas1-symbol">.</span><span class="pas1-space"> trailing dozens </span><span class="pas1-reservedword">of</span><span class="pas1-space"> percentage points behind</span><span class="pas1-symbol">.

</span><span class="pas1-identifier">Still</span><span class="pas1-symbol">,</span><span class="pas1-space"> QR code creation jumped a whopping </span><span class="pas1-number">1</span><span class="pas1-symbol">,</span><span class="pas1-number">253</span><span class="pas1-symbol">%</span><span class="pas1-space"> </span><span class="pas1-reservedword">in</span><span class="pas1-space"> </span><span class="pas1-number">2011</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-reservedword">with</span><span class="pas1-space"> two million </span><span class="pas1-reservedword">of</span><span class="pas1-space"> them created </span><span class="pas1-reservedword">in</span><span class="pas1-space"> less than three months</span><span class="pas1-symbol">.</span><span class="pas1-space"> By </span><span class="pas1-reservedword">far</span><span class="pas1-symbol">,</span><span class="pas1-space"> most were used </span><span class="pas1-reservedword">to</span><span class="pas1-space"> lead users </span><span class="pas1-reservedword">to</span><span class="pas1-space"> a web address</span><span class="pas1-symbol">,</span><span class="pas1-space"> but they can also store vCard details</span><span class="pas1-symbol">,</span><span class="pas1-space"> Google Maps info </span><span class="pas1-reservedword">and</span><span class="pas1-space"> even Youtube video links</span><span class="pas1-symbol">.


</span><span class="pas1-identifier">Action Steps </span><span class="pas1-reservedword">for</span><span class="pas1-space"> Working </span><span class="pas1-reservedword">with</span><span class="pas1-space"> QR Codes

So how can you take advantage </span><span class="pas1-reservedword">of</span><span class="pas1-space"> this growing trend </span><span class="pas1-reservedword">for</span><span class="pas1-space"> your business</span><span class="pas1-symbol">?</span><span class="pas1-space">  Keep </span><span class="pas1-reservedword">in</span><span class="pas1-space"> mind that much more than web addresses can be scanned</span><span class="pas1-symbol">.</span><span class="pas1-space"> </span><span class="pas1-reservedword">For</span><span class="pas1-space"> example</span><span class="pas1-symbol">,</span><span class="pas1-space"> you could</span><span class="pas1-symbol">:

</span><span class="pas1-space">   </span><span class="pas1-number">1</span><span class="pas1-space"> Direct employers </span><span class="pas1-reservedword">to</span><span class="pas1-space"> your resume</span><span class="pas1-symbol">,</span><span class="pas1-space"> your LinkedIn profile </span><span class="pas1-reservedword">or</span><span class="pas1-space"> your Vcard
   </span><span class="pas1-number">2</span><span class="pas1-space"> Use a QR code </span><span class="pas1-reservedword">in</span><span class="pas1-space"> a direct mail piece</span><span class="pas1-symbol">,</span><span class="pas1-space"> business card </span><span class="pas1-reservedword">or</span><span class="pas1-space"> postcard </span><span class="pas1-reservedword">to</span><span class="pas1-space"> provide a discount
   </span><span class="pas1-number">3</span><span class="pas1-space"> Give customers an inside look at your new Facebook promotion
   </span><span class="pas1-number">4</span><span class="pas1-space"> Take them </span><span class="pas1-reservedword">to</span><span class="pas1-space"> a page </span><span class="pas1-reservedword">with</span><span class="pas1-space"> more detailed information that wouldn</span><span class="pas1-symbol"></span><span class="pas1-identifier">t easily fit </span><span class="pas1-reservedword">in</span><span class="pas1-space"> a print ad
   </span><span class="pas1-number">5</span><span class="pas1-space"> Use them </span><span class="pas1-reservedword">to</span><span class="pas1-space"> deliver step</span><span class="pas1-symbol">-</span><span class="pas1-identifier">by</span><span class="pas1-symbol">-</span><span class="pas1-identifier">step instructional videos </span><span class="pas1-reservedword">or</span><span class="pas1-space"> a printable setup sheet
   </span><span class="pas1-number">6</span><span class="pas1-space"> Have the QR code send a tweet when scanned</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-reservedword">or</span><span class="pas1-space"> check </span><span class="pas1-reservedword">in</span><span class="pas1-space"> </span><span class="pas1-reservedword">with</span><span class="pas1-space"> Foursquare
   </span><span class="pas1-number">7</span><span class="pas1-space"> Let them enroll </span><span class="pas1-reservedword">in</span><span class="pas1-space"> an event such </span><span class="pas1-reservedword">as</span><span class="pas1-space"> a webinar </span><span class="pas1-reservedword">or</span><span class="pas1-space"> teleseminar
   </span><span class="pas1-number">8</span><span class="pas1-space"> Use the QR code </span><span class="pas1-reservedword">to</span><span class="pas1-space"> let customers send themselves a reminder via SMS
   </span><span class="pas1-number">9</span><span class="pas1-space"> Link them </span><span class="pas1-reservedword">to</span><span class="pas1-space"> a special </span><span class="pas1-symbol"></span><span class="pas1-identifier">Exclusive</span><span class="pas1-symbol"></span><span class="pas1-space"> YouTube video

</span><span class="pas1-reservedword">uses
</span><span class="pas1-space"> PngImage</span><span class="pas1-symbol">,
</span><span class="pas1-space"> HTTPApp</span><span class="pas1-symbol">,
</span><span class="pas1-space"> WinInet</span><span class="pas1-symbol">;
</span><span class="pas1-space"> 
</span><span class="pas1-reservedword">type
</span><span class="pas1-identifier">TQrImage_ErrCorrLevel</span><span class="pas1-symbol">=(</span><span class="pas1-identifier">L</span><span class="pas1-symbol">,</span><span class="pas1-identifier">M</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Q</span><span class="pas1-symbol">,</span><span class="pas1-identifier">H</span><span class="pas1-symbol">);
</span><span class="pas1-space"> 
</span><span class="pas1-reservedword">const
</span><span class="pas1-identifier">UrlGoogleQrCode</span><span class="pas1-symbol">=</span><span class="pas1-string">'http://chart.apis.google.com/chart?chs=%dx%d&amp;cht=qr&amp;chld=%s&amp;chl=%s'</span><span class="pas1-symbol">;
</span><span class="pas1-identifier">QrImgCorrStr   </span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">array</span><span class="pas1-space"> </span><span class="pas1-symbol">[</span><span class="pas1-identifier">TQrImage_ErrCorrLevel</span><span class="pas1-symbol">]</span><span class="pas1-space"> </span><span class="pas1-reservedword">of</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">=(</span><span class="pas1-string">'L'</span><span class="pas1-symbol">,</span><span class="pas1-string">'M'</span><span class="pas1-symbol">,</span><span class="pas1-string">'Q'</span><span class="pas1-symbol">,</span><span class="pas1-string">'H'</span><span class="pas1-symbol">);
</span><span class="pas1-space"> 
</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> WinInet_HttpGet</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">const</span><span class="pas1-space"> Url</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;</span><span class="pas1-identifier">Stream</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TStream</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">const
</span><span class="pas1-identifier">BuffSize </span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-number">1024</span><span class="pas1-symbol">*</span><span class="pas1-number">1024</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">var
</span><span class="pas1-space">  hInter   </span><span class="pas1-symbol">:</span><span class="pas1-space"> HINTERNET</span><span class="pas1-symbol">;
</span><span class="pas1-space">  UrlHandle</span><span class="pas1-symbol">:</span><span class="pas1-space"> HINTERNET</span><span class="pas1-symbol">;
</span><span class="pas1-space">  BytesRead</span><span class="pas1-symbol">:</span><span class="pas1-space"> DWORD</span><span class="pas1-symbol">;
</span><span class="pas1-space">  Buffer   </span><span class="pas1-symbol">:</span><span class="pas1-space"> Pointer</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  hInter </span><span class="pas1-symbol">:=</span><span class="pas1-space"> InternetOpen</span><span class="pas1-symbol">(</span><span class="pas1-string">''</span><span class="pas1-symbol">,</span><span class="pas1-space"> INTERNET_OPEN_TYPE_PRECONFIG</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-reservedword">nil</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-reservedword">nil</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">0</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">if</span><span class="pas1-space"> Assigned</span><span class="pas1-symbol">(</span><span class="pas1-identifier">hInter</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">then
</span><span class="pas1-space">  </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">    Stream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Seek</span><span class="pas1-symbol">(</span><span class="pas1-number">0</span><span class="pas1-symbol">,</span><span class="pas1-number">0</span><span class="pas1-symbol">);
</span><span class="pas1-space">    GetMem</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Buffer</span><span class="pas1-symbol">,</span><span class="pas1-identifier">BuffSize</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-reservedword">try
</span><span class="pas1-space">      UrlHandle</span><span class="pas1-symbol">:=</span><span class="pas1-space"> InternetOpenUrl</span><span class="pas1-symbol">(</span><span class="pas1-identifier">hInter</span><span class="pas1-symbol">,</span><span class="pas1-space"> PChar</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Url</span><span class="pas1-symbol">),</span><span class="pas1-space"> </span><span class="pas1-reservedword">nil</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">0</span><span class="pas1-symbol">,</span><span class="pas1-space"> INTERNET_FLAG_RELOAD</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">0</span><span class="pas1-symbol">);
</span><span class="pas1-space">        </span><span class="pas1-reservedword">if</span><span class="pas1-space"> Assigned</span><span class="pas1-symbol">(</span><span class="pas1-identifier">UrlHandle</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">then
</span><span class="pas1-space">        </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">          </span><span class="pas1-reservedword">repeat
</span><span class="pas1-space">            InternetReadFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">UrlHandle</span><span class="pas1-symbol">,</span><span class="pas1-space"> Buffer</span><span class="pas1-symbol">,</span><span class="pas1-space"> BuffSize</span><span class="pas1-symbol">,</span><span class="pas1-space"> BytesRead</span><span class="pas1-symbol">);
</span><span class="pas1-space">            </span><span class="pas1-reservedword">if</span><span class="pas1-space"> BytesRead</span><span class="pas1-symbol">&gt;</span><span class="pas1-number">0</span><span class="pas1-space"> </span><span class="pas1-reservedword">then
</span><span class="pas1-space">             Stream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">WriteBuffer</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Buffer</span><span class="pas1-symbol">^,</span><span class="pas1-identifier">BytesRead</span><span class="pas1-symbol">);
</span><span class="pas1-space">          </span><span class="pas1-reservedword">until</span><span class="pas1-space"> BytesRead </span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-number">0</span><span class="pas1-symbol">;
</span><span class="pas1-space">          InternetCloseHandle</span><span class="pas1-symbol">(</span><span class="pas1-identifier">UrlHandle</span><span class="pas1-symbol">);
</span><span class="pas1-space">        </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">finally
</span><span class="pas1-space">      FreeMem</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Buffer</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">    InternetCloseHandle</span><span class="pas1-symbol">(</span><span class="pas1-identifier">hInter</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end
end</span><span class="pas1-symbol">;
</span><span class="pas1-space"> 
</span><span class="pas1-comment">//this function return a Stream (PngImage inside) with a Qr code.
</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> GetQrCode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Width</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Height</span><span class="pas1-symbol">:</span><span class="pas1-identifier">Word</span><span class="pas1-symbol">;</span><span class="pas1-identifier">Correction_Level</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TQrImage_ErrCorrLevel</span><span class="pas1-symbol">;</span><span class="pas1-reservedword">const</span><span class="pas1-space"> Data</span><span class="pas1-symbol">:</span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;</span><span class="pas1-identifier">StreamImage </span><span class="pas1-symbol">:</span><span class="pas1-space"> TMemoryStream</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">Var
</span><span class="pas1-space"> EncodedURL  </span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  EncodedURL</span><span class="pas1-symbol">:=</span><span class="pas1-identifier">Format</span><span class="pas1-symbol">(</span><span class="pas1-identifier">UrlGoogleQrCode</span><span class="pas1-symbol">,[</span><span class="pas1-identifier">Width</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Height</span><span class="pas1-symbol">,</span><span class="pas1-identifier">QrImgCorrStr</span><span class="pas1-symbol">[</span><span class="pas1-identifier">Correction_Level</span><span class="pas1-symbol">],</span><span class="pas1-identifier">HTTPEncode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Data</span><span class="pas1-symbol">)]);
</span><span class="pas1-space">  WinInet_HttpGet</span><span class="pas1-symbol">(</span><span class="pas1-identifier">EncodedURL</span><span class="pas1-symbol">,</span><span class="pas1-identifier">StreamImage</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-identifier">http</span><span class="pas1-symbol">:</span><span class="pas1-comment">//www.delphi-central.com/callback.aspx

</span><span class="pas1-space"> </span><span class="pas1-reservedword">public
</span><span class="pas1-space">    </span><span class="pas1-comment">{ Public-Deklarationen }
</span><span class="pas1-space">    </span><span class="pas1-reservedword">constructor</span><span class="pas1-space"> Create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Owner</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TComponent</span><span class="pas1-symbol">);</span><span class="pas1-space"> </span><span class="pas1-reservedword">override</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">destructor</span><span class="pas1-space"> Destroy</span><span class="pas1-symbol">;</span><span class="pas1-space"> </span><span class="pas1-reservedword">override</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> Assign</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Source</span><span class="pas1-symbol">:</span><span class="pas1-space"> TPersistent</span><span class="pas1-symbol">);</span><span class="pas1-reservedword">override</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> DrawBarcode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Canvas</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TCanvas</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> DrawText</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Canvas</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TCanvas</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> CanvasHeight </span><span class="pas1-symbol">:</span><span class="pas1-identifier">Integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> GetCanvasHeight</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> CanvasWidth </span><span class="pas1-symbol">:</span><span class="pas1-identifier">Integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> GetCanvasWidth</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">published
</span><span class="pas1-space">    </span><span class="pas1-comment">{ Published-Deklarationen }
</span><span class="pas1-space">   </span><span class="pas1-comment">{ Height of Barcode (Pixel)}
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Height </span><span class="pas1-symbol">:</span><span class="pas1-space"> integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FHeight </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetHeight</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Text   </span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-space"> </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FText </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetText</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Top    </span><span class="pas1-symbol">:</span><span class="pas1-space"> Integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FTop </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetTop</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Left   </span><span class="pas1-symbol">:</span><span class="pas1-space"> Integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FLeft </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetLeft</span><span class="pas1-symbol">;
</span><span class="pas1-space">   </span><span class="pas1-comment">{ Width of the smallest line in a Barcode }
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Modul  </span><span class="pas1-symbol">:</span><span class="pas1-space"> integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FModul  </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetModul</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Ratio  </span><span class="pas1-symbol">:</span><span class="pas1-space"> Double </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FRatio </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetRatio</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Typ    </span><span class="pas1-symbol">:</span><span class="pas1-space"> TBarcodeType </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FTyp </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetTyp </span><span class="pas1-reservedword">default</span><span class="pas1-space"> bcCode_2_5_interleaved</span><span class="pas1-symbol">;
</span><span class="pas1-space">   </span><span class="pas1-comment">{ build CheckSum ? }
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Checksum</span><span class="pas1-symbol">:</span><span class="pas1-identifier">boolean </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FCheckSum </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetCheckSum </span><span class="pas1-reservedword">default</span><span class="pas1-space"> FALSE</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> CheckSumMethod</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TCheckSumMethod </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FCheckSumMethod </span><span class="pas1-reservedword">write</span><span class="pas1-space"> FCheckSumMethod </span><span class="pas1-reservedword">default</span><span class="pas1-space"> csmModulo10</span><span class="pas1-symbol">;

</span><span class="pas1-space">   </span><span class="pas1-comment">{ 0 - 360 degree }
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Angle  </span><span class="pas1-symbol">:</span><span class="pas1-identifier">double </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FAngle </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetAngle</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> ShowText</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TBarcodeOption </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FShowText </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetShowText </span><span class="pas1-reservedword">default</span><span class="pas1-space"> bcoNone</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> ShowTextFont</span><span class="pas1-symbol">:</span><span class="pas1-space"> TFont </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FShowTextFont </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetShowTextFont</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> ShowTextPosition</span><span class="pas1-symbol">:</span><span class="pas1-space"> TShowTextPosition </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FShowTextPosition </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetShowTextPosition </span><span class="pas1-reservedword">default</span><span class="pas1-space"> stpTopLeft</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Width </span><span class="pas1-symbol">:</span><span class="pas1-space"> integer </span><span class="pas1-reservedword">read</span><span class="pas1-space"> GetWidth </span><span class="pas1-reservedword">write</span><span class="pas1-space"> SetWidth </span><span class="pas1-reservedword">stored</span><span class="pas1-space"> False</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> Color</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TColor </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FColor </span><span class="pas1-reservedword">write</span><span class="pas1-space"> FColor </span><span class="pas1-reservedword">default</span><span class="pas1-space"> clWhite</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-reservedword">property</span><span class="pas1-space"> ColorBar</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TColor </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FColorBar </span><span class="pas1-reservedword">write</span><span class="pas1-space"> FColorBar </span><span class="pas1-reservedword">default</span><span class="pas1-space"> clBlack</span><span class="pas1-symbol">;
</span><span class="pas1-space">      </span><span class="pas1-reservedword">property</span><span class="pas1-space"> OnChange</span><span class="pas1-symbol">:</span><span class="pas1-identifier">TNotifyEvent </span><span class="pas1-reservedword">read</span><span class="pas1-space"> FOnChange </span><span class="pas1-reservedword">write</span><span class="pas1-space"> FOnChange</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-reservedword">function</span><span class="pas1-space"> CheckSumModulo10</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">const</span><span class="pas1-space"> data</span><span class="pas1-symbol">:</span><span class="pas1-reservedword">string</span><span class="pas1-symbol">):</span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">function</span><span class="pas1-space"> ConvertMmToPixelsX</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">const</span><span class="pas1-space"> Value</span><span class="pas1-symbol">:</span><span class="pas1-identifier">Double</span><span class="pas1-symbol">):</span><span class="pas1-identifier">Integer</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">function</span><span class="pas1-space"> ConvertMmToPixelsY</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">const</span><span class="pas1-space"> Value</span><span class="pas1-symbol">:</span><span class="pas1-identifier">Double</span><span class="pas1-symbol">):</span><span class="pas1-identifier">Integer</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">function</span><span class="pas1-space"> ConvertInchToPixelsX</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">const</span><span class="pas1-space"> Value</span><span class="pas1-symbol">:</span><span class="pas1-identifier">Double</span><span class="pas1-symbol">):</span><span class="pas1-identifier">Integer</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">function</span><span class="pas1-space"> ConvertInchToPixelsY</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">const</span><span class="pas1-space"> Value</span><span class="pas1-symbol">:</span><span class="pas1-identifier">Double</span><span class="pas1-symbol">):</span><span class="pas1-identifier">Integer</span><span class="pas1-symbol">;

</span><span class="pas1-identifier">TTarArchive Usage
</span><span class="pas1-symbol">-----------------
-</span><span class="pas1-space"> Choose a </span><span class="pas1-reservedword">constructor
</span><span class="pas1-symbol">-</span><span class="pas1-space"> Make an instance </span><span class="pas1-reservedword">of</span><span class="pas1-space"> TTarArchive                  TA </span><span class="pas1-symbol">:=</span><span class="pas1-space"> TTarArchive</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create </span><span class="pas1-symbol">(</span><span class="pas1-identifier">Filename</span><span class="pas1-symbol">);
-</span><span class="pas1-space"> Scan through the archive                         TA</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Reset</span><span class="pas1-symbol">;
</span><span class="pas1-space">                                                   </span><span class="pas1-reservedword">WHILE</span><span class="pas1-space"> TA</span><span class="pas1-symbol">.</span><span class="pas1-identifier">FindNext </span><span class="pas1-symbol">(</span><span class="pas1-identifier">DirRec</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">DO</span><span class="pas1-space"> </span><span class="pas1-reservedword">BEGIN
</span><span class="pas1-symbol">-</span><span class="pas1-space"> Evaluate the DirRec </span><span class="pas1-reservedword">for</span><span class="pas1-space"> each </span><span class="pas1-reservedword">file</span><span class="pas1-space">                  ListBox</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Items</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Add </span><span class="pas1-symbol">(</span><span class="pas1-identifier">DirRec</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Name</span><span class="pas1-symbol">);
-</span><span class="pas1-space"> Read </span><span class="pas1-reservedword">out</span><span class="pas1-space"> the current </span><span class="pas1-reservedword">file</span><span class="pas1-space">                          TA</span><span class="pas1-symbol">.</span><span class="pas1-identifier">ReadFile </span><span class="pas1-symbol">(</span><span class="pas1-identifier">DestFilename</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-symbol">(</span><span class="pas1-identifier">You can ommit this </span><span class="pas1-reservedword">if</span><span class="pas1-space"> you want </span><span class="pas1-reservedword">to
</span><span class="pas1-space">  read </span><span class="pas1-reservedword">in</span><span class="pas1-space"> the directory only</span><span class="pas1-symbol">)</span><span class="pas1-space">                        </span><span class="pas1-reservedword">END</span><span class="pas1-symbol">;
-</span><span class="pas1-space"> You</span><span class="pas1-string">'re done                                      TA.Free;


</span><span class="pas1-identifier">TTarWriter Usage
</span><span class="pas1-symbol">----------------
-</span><span class="pas1-space"> Choose a </span><span class="pas1-reservedword">constructor
</span><span class="pas1-symbol">-</span><span class="pas1-space"> Make an instance </span><span class="pas1-reservedword">of</span><span class="pas1-space"> TTarWriter                   TW </span><span class="pas1-symbol">:=</span><span class="pas1-space"> TTarWriter</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create </span><span class="pas1-symbol">(</span><span class="pas1-string">'my.tar'</span><span class="pas1-symbol">);
-</span><span class="pas1-space"> Add a </span><span class="pas1-reservedword">file</span><span class="pas1-space"> </span><span class="pas1-reservedword">to</span><span class="pas1-space"> the tar archive                    TW</span><span class="pas1-symbol">.</span><span class="pas1-identifier">AddFile </span><span class="pas1-symbol">(</span><span class="pas1-string">'foobar.txt'</span><span class="pas1-symbol">);
-</span><span class="pas1-space"> Add a </span><span class="pas1-reservedword">string</span><span class="pas1-space"> </span><span class="pas1-reservedword">as</span><span class="pas1-space"> a </span><span class="pas1-reservedword">file</span><span class="pas1-space">                           TW</span><span class="pas1-symbol">.</span><span class="pas1-identifier">AddString </span><span class="pas1-symbol">(</span><span class="pas1-identifier">SL</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Text</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-string">'joe.txt'</span><span class="pas1-symbol">,</span><span class="pas1-space"> Now</span><span class="pas1-symbol">);
-</span><span class="pas1-space"> Destroy TarWriter instance                       TW</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Free</span><span class="pas1-symbol">;
-</span><span class="pas1-space"> Now your tar </span><span class="pas1-reservedword">file</span><span class="pas1-space"> </span><span class="pas1-reservedword">is</span><span class="pas1-space"> ready</span><span class="pas1-symbol">.



</span><span class="pas1-identifier">The last slash might be optional</span><span class="pas1-symbol">.</span><span class="pas1-space"> Right</span><span class="pas1-symbol">?
</span><span class="pas1-identifier">How about something like this</span><span class="pas1-symbol">:

</span><span class="pas1-hexadecimal">$</span><span class="pas1-identifier">url </span><span class="pas1-symbol">=~</span><span class="pas1-space"> m</span><span class="pas1-symbol">|([^/]+)/?</span><span class="pas1-hexadecimal">$</span><span class="pas1-symbol">|;
</span><span class="pas1-identifier">my </span><span class="pas1-hexadecimal">$e</span><span class="pas1-identifier">nd_of_url </span><span class="pas1-symbol">=</span><span class="pas1-space"> </span><span class="pas1-hexadecimal">$1</span><span class="pas1-symbol">;

</span><span class="pas1-identifier">The </span><span class="pas1-hexadecimal">$</span><span class="pas1-space"> </span><span class="pas1-reservedword">on</span><span class="pas1-space"> the </span><span class="pas1-reservedword">end</span><span class="pas1-space"> anchors the regular expression </span><span class="pas1-reservedword">to</span><span class="pas1-space"> the </span><span class="pas1-reservedword">end</span><span class="pas1-space"> </span><span class="pas1-reservedword">of</span><span class="pas1-space"> the </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">.</span><span class="pas1-space"> The </span><span class="pas1-symbol">[^/]</span><span class="pas1-space"> means anything that</span><span class="pas1-string">'s not a slash and the + after means I want one or more things that are not slashes. Notice that this is in a capture group which are marked with parentheses.
</span><span class="pas1-identifier">I </span><span class="pas1-reservedword">end</span><span class="pas1-space"> the regular expression </span><span class="pas1-reservedword">with</span><span class="pas1-space"> </span><span class="pas1-symbol">/?</span><span class="pas1-space"> which means that there may </span><span class="pas1-reservedword">or</span><span class="pas1-space"> may </span><span class="pas1-reservedword">not</span><span class="pas1-space"> be a slash </span><span class="pas1-reservedword">on</span><span class="pas1-space"> the very </span><span class="pas1-reservedword">end</span><span class="pas1-space"> </span><span class="pas1-reservedword">of</span><span class="pas1-space"> the </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">.</span><span class="pas1-space"> I</span><span class="pas1-string">'ve put my regular expression between m| and |, so I can use forward slashes without having to constantly escape them.

</span><span class="pas1-identifier">The last part </span><span class="pas1-reservedword">of</span><span class="pas1-space"> the URL </span><span class="pas1-reservedword">is</span><span class="pas1-space"> now </span><span class="pas1-reservedword">in</span><span class="pas1-space"> </span><span class="pas1-hexadecimal">$1</span><span class="pas1-space"> </span><span class="pas1-reservedword">and</span><span class="pas1-space"> I can </span><span class="pas1-reservedword">set</span><span class="pas1-space"> my own scalar variable </span><span class="pas1-reservedword">to</span><span class="pas1-space"> save this Result</span><span class="pas1-symbol">.
</span><span class="pas1-identifier">share</span><span class="pas1-symbol">|</span><span class="pas1-identifier">improve this answer

  
</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> GetQrCodeImage</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Width</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Height</span><span class="pas1-symbol">:</span><span class="pas1-space"> Word</span><span class="pas1-symbol">;</span><span class="pas1-space"> Correct_Level</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-space">           </span><span class="pas1-reservedword">const</span><span class="pas1-space"> Data</span><span class="pas1-symbol">:</span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;</span><span class="pas1-space"> aimage</span><span class="pas1-symbol">:</span><span class="pas1-space"> TImage</span><span class="pas1-symbol">;</span><span class="pas1-space"> apath</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">var
</span><span class="pas1-space">  encodedURL</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-space">  idhttp</span><span class="pas1-symbol">:</span><span class="pas1-space"> TIdHttp</span><span class="pas1-symbol">;</span><span class="pas1-comment">// THTTPSend;
</span><span class="pas1-space">  pngStream</span><span class="pas1-symbol">:</span><span class="pas1-space"> TMemoryStream</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  encodedURL</span><span class="pas1-symbol">:=</span><span class="pas1-space"> Format</span><span class="pas1-symbol">(</span><span class="pas1-identifier">UrlGoogleQrCode</span><span class="pas1-symbol">,[</span><span class="pas1-identifier">Width</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Height</span><span class="pas1-symbol">,</span><span class="pas1-space"> Correct_Level</span><span class="pas1-symbol">,</span><span class="pas1-space"> HTTPEncode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Data</span><span class="pas1-symbol">)]);
</span><span class="pas1-space">  </span><span class="pas1-comment">//WinInet_HttpGet(EncodedURL,StreamImage);
</span><span class="pas1-space">  idHTTP</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TIdHTTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">NIL</span><span class="pas1-symbol">)
</span><span class="pas1-space">  pngStream</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TMemoryStream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">create</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TLinearBitmap</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">try
</span><span class="pas1-space">    idHTTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Get1</span><span class="pas1-symbol">(</span><span class="pas1-identifier">EncodedURL</span><span class="pas1-symbol">,</span><span class="pas1-space"> pngStream</span><span class="pas1-symbol">)
</span><span class="pas1-space">    pngStream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Position</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">0</span><span class="pas1-symbol">;
</span><span class="pas1-space">    LoadFromStream2</span><span class="pas1-symbol">(</span><span class="pas1-identifier">pngStream</span><span class="pas1-symbol">,</span><span class="pas1-string">'PNG'</span><span class="pas1-symbol">);
</span><span class="pas1-space">    aImage</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Picture</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-reservedword">NIL</span><span class="pas1-symbol">;
</span><span class="pas1-space">    AssignTo</span><span class="pas1-symbol">(</span><span class="pas1-identifier">aimage</span><span class="pas1-symbol">.</span><span class="pas1-identifier">picture</span><span class="pas1-symbol">.</span><span class="pas1-identifier">bitmap</span><span class="pas1-symbol">);
</span><span class="pas1-space">    SaveToFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">apath</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-comment">//OpenDoc(apath);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">finally
</span><span class="pas1-space">    Dispose</span><span class="pas1-symbol">;
</span><span class="pas1-space">    Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">    idHTTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Free
    pngStream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> GetQrCode3</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Width</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Height</span><span class="pas1-symbol">:</span><span class="pas1-space"> Word</span><span class="pas1-symbol">;</span><span class="pas1-space"> Correct_Level</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-space">           </span><span class="pas1-reservedword">const</span><span class="pas1-space"> Data</span><span class="pas1-symbol">:</span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;</span><span class="pas1-space"> apath</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">);
</span><span class="pas1-reservedword">var
</span><span class="pas1-space">  encodedURL</span><span class="pas1-symbol">:</span><span class="pas1-space"> </span><span class="pas1-reservedword">string</span><span class="pas1-symbol">;
</span><span class="pas1-space">  idhttp</span><span class="pas1-symbol">:</span><span class="pas1-space"> TIdHttp</span><span class="pas1-symbol">;</span><span class="pas1-comment">// THTTPSend;
</span><span class="pas1-space">  png</span><span class="pas1-symbol">:</span><span class="pas1-space"> TLinearBitmap</span><span class="pas1-symbol">;</span><span class="pas1-comment">//TPNGObject;
</span><span class="pas1-space">  pngStream</span><span class="pas1-symbol">:</span><span class="pas1-space"> TMemoryStream</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">  encodedURL</span><span class="pas1-symbol">:=</span><span class="pas1-space"> Format</span><span class="pas1-symbol">(</span><span class="pas1-identifier">UrlGoogleQrCode</span><span class="pas1-symbol">,[</span><span class="pas1-identifier">Width</span><span class="pas1-symbol">,</span><span class="pas1-identifier">Height</span><span class="pas1-symbol">,</span><span class="pas1-space"> Correct_Level</span><span class="pas1-symbol">,</span><span class="pas1-space"> HTTPEncode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Data</span><span class="pas1-symbol">)]);
</span><span class="pas1-space">  </span><span class="pas1-comment">//WinInet_HttpGet(EncodedURL,StreamImage);
</span><span class="pas1-space">  idHTTP</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TIdHTTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create</span><span class="pas1-symbol">(</span><span class="pas1-reservedword">NIL</span><span class="pas1-symbol">)
</span><span class="pas1-space">  pngStream</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TMemoryStream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">create</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TLinearBitmap</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">try
</span><span class="pas1-space">    idHTTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Get1</span><span class="pas1-symbol">(</span><span class="pas1-identifier">EncodedURL</span><span class="pas1-symbol">,</span><span class="pas1-space"> pngStream</span><span class="pas1-symbol">)
</span><span class="pas1-space">    pngStream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Position</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">0</span><span class="pas1-symbol">;
</span><span class="pas1-space">    LoadFromStream2</span><span class="pas1-symbol">(</span><span class="pas1-identifier">pngStream</span><span class="pas1-symbol">,</span><span class="pas1-string">'PNG'</span><span class="pas1-symbol">);
</span><span class="pas1-space">    </span><span class="pas1-comment">//aImage.Picture:= NIL;
</span><span class="pas1-space">    </span><span class="pas1-comment">//AssignTo(aimage.picture.bitmap);
</span><span class="pas1-space">    SaveToFile</span><span class="pas1-symbol">(</span><span class="pas1-identifier">apath</span><span class="pas1-symbol">);
</span><span class="pas1-space">    OpenDoc</span><span class="pas1-symbol">(</span><span class="pas1-identifier">apath</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">finally
</span><span class="pas1-space">    Dispose</span><span class="pas1-symbol">;
</span><span class="pas1-space">    Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">    idHTTP</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Free
    pngStream</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Free</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;


</span><span class="pas1-reservedword">procedure</span><span class="pas1-space"> CreateMyFastForm</span><span class="pas1-symbol">;
</span><span class="pas1-space"> </span><span class="pas1-comment">//diaform:= CreateMessageDialog('my fast form perform',mtconfirmation, []);
</span><span class="pas1-reservedword">var</span><span class="pas1-space"> 
    </span><span class="pas1-comment">//dbform: TForm;
</span><span class="pas1-space">    ard</span><span class="pas1-symbol">:</span><span class="pas1-space"> TRadioGroup</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-comment">//mimg: TImage;
</span><span class="pas1-reservedword">begin
</span><span class="pas1-space">   dbform</span><span class="pas1-symbol">:=</span><span class="pas1-space"> CreateMessageDialog</span><span class="pas1-symbol">(</span><span class="pas1-string">'My Fast Form Template - FFP'</span><span class="pas1-symbol">,</span><span class="pas1-identifier">mtwarning</span><span class="pas1-symbol">,
</span><span class="pas1-space">                                        </span><span class="pas1-symbol">[</span><span class="pas1-identifier">mball</span><span class="pas1-symbol">,</span><span class="pas1-space"> mbyes</span><span class="pas1-symbol">,</span><span class="pas1-space"> mbhelp</span><span class="pas1-symbol">,</span><span class="pas1-space"> mbok</span><span class="pas1-symbol">]);
</span><span class="pas1-space">   </span><span class="pas1-reservedword">with</span><span class="pas1-space"> dbform </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">     font</span><span class="pas1-symbol">.</span><span class="pas1-identifier">size</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">12</span><span class="pas1-symbol">;
</span><span class="pas1-space">     caption</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'FFP XML Demo'</span><span class="pas1-symbol">;
</span><span class="pas1-space">     setBounds</span><span class="pas1-symbol">(</span><span class="pas1-number">50</span><span class="pas1-symbol">,</span><span class="pas1-number">50</span><span class="pas1-symbol">,</span><span class="pas1-number">800</span><span class="pas1-symbol">,</span><span class="pas1-number">600</span><span class="pas1-symbol">)
</span><span class="pas1-space">     FormStyle</span><span class="pas1-symbol">:=</span><span class="pas1-space"> fsStayontop</span><span class="pas1-symbol">;
</span><span class="pas1-space">     </span><span class="pas1-comment">//Color:= 12234;  //clWebGold;//12234;
</span><span class="pas1-space">     autoScroll</span><span class="pas1-symbol">:=</span><span class="pas1-space"> true</span><span class="pas1-symbol">;
</span><span class="pas1-space">   </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TLabel</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">     parent</span><span class="pas1-symbol">:=</span><span class="pas1-space"> dbform</span><span class="pas1-symbol">;
</span><span class="pas1-space">     SetBounds</span><span class="pas1-symbol">(</span><span class="pas1-number">400</span><span class="pas1-symbol">,</span><span class="pas1-number">60</span><span class="pas1-symbol">,</span><span class="pas1-number">500</span><span class="pas1-symbol">,</span><span class="pas1-number">600</span><span class="pas1-symbol">)
</span><span class="pas1-space">     font</span><span class="pas1-symbol">.</span><span class="pas1-identifier">size</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">18</span><span class="pas1-symbol">;
</span><span class="pas1-space">     </span><span class="pas1-comment">//dblist.Add('All Converted to...XML')
</span><span class="pas1-space">     caption</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'QRCode in a Stream Dream...'</span><span class="pas1-symbol">;
</span><span class="pas1-space">   </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space">  
   </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TRadioGroup</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">     parent</span><span class="pas1-symbol">:=</span><span class="pas1-space"> dbform</span><span class="pas1-symbol">;
</span><span class="pas1-space">     top</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">90</span><span class="pas1-symbol">;
</span><span class="pas1-space">     left</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">60</span><span class="pas1-symbol">;
</span><span class="pas1-space">     items</span><span class="pas1-symbol">.</span><span class="pas1-identifier">add</span><span class="pas1-symbol">(</span><span class="pas1-string">'first entry of'</span><span class="pas1-symbol">);
</span><span class="pas1-space">     items</span><span class="pas1-symbol">.</span><span class="pas1-identifier">add</span><span class="pas1-symbol">(</span><span class="pas1-string">'second entry off'</span><span class="pas1-symbol">);
</span><span class="pas1-space">     items</span><span class="pas1-symbol">.</span><span class="pas1-identifier">add</span><span class="pas1-symbol">(</span><span class="pas1-string">'third entry off'</span><span class="pas1-symbol">);
</span><span class="pas1-space">     ItemIndex</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">2</span><span class="pas1-symbol">;</span><span class="pas1-space"> 
     </span><span class="pas1-comment">//writeln(Items.Strings[ItemIndex]); 
</span><span class="pas1-space">   </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TBitBtn</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">    Parent</span><span class="pas1-symbol">:=</span><span class="pas1-space"> dbform</span><span class="pas1-symbol">;
</span><span class="pas1-space">    setbounds</span><span class="pas1-symbol">(</span><span class="pas1-number">570</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">490</span><span class="pas1-symbol">,</span><span class="pas1-number">190</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">40</span><span class="pas1-symbol">);
</span><span class="pas1-space">    caption</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'File to Barcode'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    font</span><span class="pas1-symbol">.</span><span class="pas1-identifier">size</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">12</span><span class="pas1-symbol">;
</span><span class="pas1-space">    glyph</span><span class="pas1-symbol">.</span><span class="pas1-identifier">LoadFromResourceName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">getHINSTANCE</span><span class="pas1-symbol">,</span><span class="pas1-string">'TASBARCODE'</span><span class="pas1-symbol">);</span><span class="pas1-space"> 
    </span><span class="pas1-comment">//onclick:= @GetMediaData2;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> TBitBtn</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">)</span><span class="pas1-space"> </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">    Parent</span><span class="pas1-symbol">:=</span><span class="pas1-space"> dbform</span><span class="pas1-symbol">;
</span><span class="pas1-space">    setbounds</span><span class="pas1-symbol">(</span><span class="pas1-number">570</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">320</span><span class="pas1-symbol">,</span><span class="pas1-number">190</span><span class="pas1-symbol">,</span><span class="pas1-space"> </span><span class="pas1-number">150</span><span class="pas1-symbol">);
</span><span class="pas1-space">    caption</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'File to Barcode'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    font</span><span class="pas1-symbol">.</span><span class="pas1-identifier">size</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">12</span><span class="pas1-symbol">;
</span><span class="pas1-space">    glyph</span><span class="pas1-symbol">.</span><span class="pas1-identifier">LoadFromResourceName</span><span class="pas1-symbol">(</span><span class="pas1-identifier">getHINSTANCE</span><span class="pas1-symbol">,</span><span class="pas1-string">'JVGAMMAPANELCOLORS'</span><span class="pas1-symbol">);</span><span class="pas1-space"> 
    </span><span class="pas1-comment">//onclick:= @GetMediaData2;
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">   Show</span><span class="pas1-symbol">;
</span><span class="pas1-space">   Canvas</span><span class="pas1-symbol">.</span><span class="pas1-identifier">Draw</span><span class="pas1-symbol">(</span><span class="pas1-number">400</span><span class="pas1-symbol">,</span><span class="pas1-number">120</span><span class="pas1-symbol">,</span><span class="pas1-identifier">getBitMap</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Exepath</span><span class="pas1-symbol">+</span><span class="pas1-string">'\examples\citymax.bmp'</span><span class="pas1-symbol">));

</span><span class="pas1-space">  FImage</span><span class="pas1-symbol">:=</span><span class="pas1-space"> TImage</span><span class="pas1-symbol">.</span><span class="pas1-identifier">create</span><span class="pas1-symbol">(</span><span class="pas1-identifier">self</span><span class="pas1-symbol">);
</span><span class="pas1-space">  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> FImage </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">   parent</span><span class="pas1-symbol">:=</span><span class="pas1-space"> dbform</span><span class="pas1-symbol">;
</span><span class="pas1-space">   setbounds</span><span class="pas1-symbol">(</span><span class="pas1-number">50</span><span class="pas1-symbol">,</span><span class="pas1-number">210</span><span class="pas1-symbol">,</span><span class="pas1-number">150</span><span class="pas1-symbol">,</span><span class="pas1-number">150</span><span class="pas1-symbol">)
</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space"> 

  </span><span class="pas1-reservedword">with</span><span class="pas1-space"> Barcode1 </span><span class="pas1-reservedword">do</span><span class="pas1-space"> </span><span class="pas1-reservedword">begin
</span><span class="pas1-space">    Top </span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">400</span><span class="pas1-symbol">;
</span><span class="pas1-space">    Left </span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">50</span><span class="pas1-symbol">;
</span><span class="pas1-space">    Height</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">130</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-comment">//Barcode1.Width:= 230;
</span><span class="pas1-space">    </span><span class="pas1-comment">//barcode1.assign
</span><span class="pas1-space">    </span><span class="pas1-comment">//Barcode1.Angle := 70;
</span><span class="pas1-space">    Typ </span><span class="pas1-symbol">:=</span><span class="pas1-space"> bcCode_2_5_interleaved</span><span class="pas1-symbol">;
</span><span class="pas1-space">    Showtext</span><span class="pas1-symbol">:=</span><span class="pas1-space"> bcoBoth</span><span class="pas1-symbol">;
</span><span class="pas1-space">    text</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'0123456789'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    DrawBarcode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Canvas</span><span class="pas1-symbol">);
</span><span class="pas1-space">    Typ </span><span class="pas1-symbol">:=</span><span class="pas1-space"> bcCodeEAN128C</span><span class="pas1-symbol">;</span><span class="pas1-space"> </span><span class="pas1-comment">//bcCode_2_5_interleaved;
</span><span class="pas1-space">    Left</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">180</span><span class="pas1-symbol">;
</span><span class="pas1-space">    text</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'0123456789'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    DrawBarcode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Canvas</span><span class="pas1-symbol">);
</span><span class="pas1-space">    Typ </span><span class="pas1-symbol">:=</span><span class="pas1-space"> bcCode128C</span><span class="pas1-symbol">;</span><span class="pas1-space"> </span><span class="pas1-comment">//bcCodePostNet; //,bcCodeEAN128C; //bcCode_2_5_interleaved;
</span><span class="pas1-space">    Left</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-number">320</span><span class="pas1-symbol">;
</span><span class="pas1-space">    text</span><span class="pas1-symbol">:=</span><span class="pas1-space"> </span><span class="pas1-string">'0123456789'</span><span class="pas1-symbol">;
</span><span class="pas1-space">    DrawBarcode</span><span class="pas1-symbol">(</span><span class="pas1-identifier">Canvas</span><span class="pas1-symbol">);
</span><span class="pas1-space">   </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;
</span><span class="pas1-space">    </span><span class="pas1-comment">//Barcode1.DrawText(dbform.Canvas);  

</span><span class="pas1-space">  </span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;</span><span class="pas1-space"> </span><span class="pas1-comment">//dbform
</span><span class="pas1-space">   </span><span class="pas1-comment">//SelectDirectory
</span><span class="pas1-reservedword">end</span><span class="pas1-symbol">;

</span><span class="pas1-space"> 
</span><span class="pas1-symbol">----</span><span class="pas1-identifier">app_template_loaded_code</span><span class="pas1-symbol">----
</span></code></pre><!--EndFragment--></body>
</html>